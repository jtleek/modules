<!DOCTYPE html>
<html>
<head>
  <title>The Base Plotting System in R</title>
  <meta charset="utf-8">
  <meta name="description" content="The Base Plotting System in R">
  <meta name="author" content="Roger Peng, Associate Professor">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="../../libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="../../libraries/frameworks/io2012/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="../../libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="../../libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="../../libraries/frameworks/io2012/js/slides" 
    src="../../libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
    <link rel="stylesheet" href = "../../assets/css/custom.css">
<link rel="stylesheet" href = "../../assets/css/custom.css.BACKUP.546.css">
<link rel="stylesheet" href = "../../assets/css/custom.css.BASE.546.css">
<link rel="stylesheet" href = "../../assets/css/custom.css.LOCAL.546.css">
<link rel="stylesheet" href = "../../assets/css/custom.css.orig">
<link rel="stylesheet" href = "../../assets/css/custom.css.REMOTE.546.css">
<link rel="stylesheet" href = "../../assets/css/ribbons.css">

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
    <!-- END LOGO SLIDE -->
    

    <!-- TITLE SLIDE -->
    <!-- Should I move this to a Local Layout File? -->
    <slide class="title-slide segue nobackground">
      <aside class="gdbar">
        <img src="../../assets/img/bloomberg_shield.png">
      </aside>
      <hgroup class="auto-fadein">
        <h1>The Base Plotting System in R</h1>
        <h2></h2>
        <p>Roger Peng, Associate Professor<br/>Johns Hopkins Bloomberg School of Public Health</p>
      </hgroup>
          </slide>

    <!-- SLIDES -->
      <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>Plotting</h2>
  </hgroup>
  <article>
    <p>The plotting and graphics engine in R is encapsulated in a few base and recommend packages:</p>

<ul>
<li><em>graphics</em>: contains plotting functions for the “base” graphing systems, including <code>plot</code>, <code>hist</code>, <code>boxplot</code> and many others.</li>
<li><em>lattice</em>: contains code for producing Trellis graphics, which are independent of the “base” graphics system; includes functions like <code>xyplot</code>, <code>bwplot</code>, <code>levelplot</code></li>
<li><em>grid</em>: implements a different graphing system independent of the “base” system; the <em>lattice</em> package builds on top of <em>grid</em>; we seldom call functions from the <em>grid</em> package directly</li>
<li><em>grDevices</em>: contains all the code implementing the various graphics devices, including X11, PDF, PostScript, PNG, etc.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>The Process of Making a Plot</h2>
  </hgroup>
  <article>
    <p>When making a plot one must first make a few choices (not necessarily in this order):</p>

<ul>
<li>To what device will the plot be sent? The default in Unix is x11; on Windows it is <code>windows</code>; on Mac OS X it is <code>quartz</code></li>
<li>Is the plot for viewing temporarily on the screen, or will it eventually end up in a paper? Are you using it in a presentation? Plots included in a paper/presentation need to use a file device rather than a screen device.</li>
<li>Is there a large amount of data going into the plot? Or is it just a few points? </li>
<li>Do you need to be able to resize the graphic?</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>The Process of Making a Plot</h2>
  </hgroup>
  <article>
    <ul>
<li>What graphics system will you use: base or grid/lattice? These generally cannot be mixed.</li>
<li>Base graphics are usually constructed piecemeal, with each aspect of the plot handled separately through a series of function calls; this is often conceptually simpler and allows plotting to mirror the thought process</li>
<li>Lattice/grid graphics are usually created in a single function call, so all of the graphics parameters have to specified at once; specifying everything at once allows R to automatically calculate the necessary spacings and font sizes.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Base Graphics</h2>
  </hgroup>
  <article>
    <p>Base graphics are used most commonly and are a very powerful system for creating 2-D graphics.</p>

<ul>
<li>Calling <code>plot(x, y)</code> or <code>hist(x)</code> will launch a graphics device (if one is not already open) and draw the plot on the device</li>
<li>If the arguments to <code>plot</code> are not of some special class, then the <em>default</em> method for <code>plot</code> is called; this function has <em>many</em> arguments, letting you set the title, x axis lable, y axis label, etc.</li>
<li>The base graphics system has <em>many</em> parameters that can set and tweaked; these parameters are documented in <code>?par</code>; it wouldn’t hurt to memorize this help page!</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Some Important Base Graphics Parameters</h2>
  </hgroup>
  <article>
    <p>The <code>par</code> function is used to specify global graphics parameters that affect all plots in an R session. These parameters can often be overridden as arguments to specific plotting functions.</p>

<ul>
<li>pch: the plotting symbol (default is open circle)</li>
<li>lty: the line type (default is solid line), can be dashed, dotted, etc.</li>
<li>lwd: the line width, specified as an integer multiple</li>
<li>col: the plotting color, specified as a number, string, or hex code; the colors function gives you a vector of colors by name</li>
<li>las: the orientation of the axis labels on the plot</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Some Important Base Graphics Parameters</h2>
  </hgroup>
  <article>
    <ul>
<li>bg: the background color</li>
<li>mar: the margin size</li>
<li>oma: the outer margin size (default is 0 for all sides)</li>
<li>mfrow: number of plots per row, column (plots are filled row-wise) </li>
<li>mfcol: number of plots per row, column (plots are filled column-wise)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Some Important Base Graphics Parameters</h2>
  </hgroup>
  <article>
    <p>Some default values.</p>

<pre><code class="r">&gt; par(&quot;lty&quot;)
[1] &quot;solid&quot;
&gt; par(&quot;lwd&quot;)
[1] 1
&gt; par(&quot;col&quot;)
[1] &quot;black&quot;
&gt; par(&quot;pch&quot;)
[1] 1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Some Important Base Graphics Parameters</h2>
  </hgroup>
  <article>
    <p>Some default values.</p>

<pre><code class="r">&gt; par(&quot;bg&quot;)
[1] &quot;transparent&quot;
&gt; par(&quot;mar&quot;)
[1] 5.1 4.1 4.1 2.1
&gt; par(&quot;oma&quot;)
[1] 0 0 0 0
&gt; par(&quot;mfrow&quot;)
[1] 1 1
&gt; par(&quot;mfcol&quot;)
[1] 1 1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Some Important Base Plotting Functions</h2>
  </hgroup>
  <article>
    <ul>
<li><code>plot</code>: make a scatterplot, or other type of plot depending on the class of the object being plotted</li>
<li><code>lines</code>: add lines to a plot, given a vector x values and a corresponding vector of y values (or a 2-column matrix); this function just connects the dots</li>
<li><code>points</code>: add points to a plot</li>
<li><code>text</code>: add text labels to a plot using specified x, y coordinates</li>
<li><code>title</code>: add annotations to x, y axis labels, title, subtitle, outer margin </li>
<li><code>mtext</code>: add arbitrary text to the margins (inner or outer) of the plot </li>
<li><code>axis</code>: adding axis ticks/labels</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Useful Graphics Devices</h2>
  </hgroup>
  <article>
    <p>The list of devices is found in <code>?Devices</code>; there are also devices created by users on CRAN</p>

<ul>
<li><code>pdf</code>: useful for line-type graphics, vector format, resizes well, usually portable</li>
<li><code>postscript</code>: older format, also vector format and resizes well, usually portable, can be used to create encapsulated postscript files, Windows systems often don’t have a postscript viewer</li>
<li><code>xfig</code>: good of you use Unix and want to edit a plot by hand</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Useful Graphics Devices</h2>
  </hgroup>
  <article>
    <ul>
<li><code>png</code>: bitmapped format, good for line drawings or images with solid colors, uses lossless compression (like the old GIF format), most web browsers can read this format natively, good for plotting many many many points, does not resize well</li>
<li><code>jpeg</code>: good for photographs or natural scenes, uses lossy compression, good for plotting many many many points, does not resize well, can be read by almost any computer and any web browser, not great for line drawings</li>
<li><code>bitmap</code>: needed to create bitmap files (png, jpeg) in certain situations (uses Ghostscript), also can be used to create a variety of other bitmapped formats not mentioned</li>
<li><code>bmp</code>: a native Windows bitmapped format</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Copying Plots</h2>
  </hgroup>
  <article>
    <p>There are two basic approaches to plotting.
1. Launch a graphics device
2. Make a plot; annotate if needed
3. Close graphics device
Or
1. Make a plot on a screen device (default); annotate if needed
2. Copy the plot to another device if necessary (not an exact process)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Copying Plots</h2>
  </hgroup>
  <article>
    <p>Copying a plot to another device can be useful because some plots require a lot of code and it can be a pain to type all that in again for a different device.</p>

<ul>
<li>dev.copy: copy a plot from one device to another</li>
<li>dev.copy2pdf: copy a plot to a Portable Document Format (PDF) - file </li>
<li>dev.list: show the list of open graphics devices</li>
<li>dev.next: switch control to the next graphics device on the device list </li>
<li>dev.set: set control to a specific graphics device</li>
<li>dev.off: close the current graphics device</li>
</ul>

<p>NOTE: Copying a plot is not an exact operation!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>

  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
<!-- Grab CDN jQuery, fall back to local if offline -->
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
<script>window.jQuery || document.write('<script src="../../libraries/widgets/quiz/js/jquery-1.7.min.js"><\/script>')</script>
<!-- Load Javascripts for Widgets -->
<!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script> -->
<script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="../../libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
<script src="../../libraries/highlighters/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- DONE LOADING HIGHLIGHTER JS FILES -->
</html>